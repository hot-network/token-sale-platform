import{l as o,r as l,b as f,j as c}from"./index-DmRFr9OQ.js";const m=e=>`
        <div style="font-family: Arial, sans-serif; background-color: #f7fafc; padding: 40px; color: #333333; line-height: 1.6;">
            <div style="max-width: 600px; margin: 0 auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; border: 1px solid #e2e8f0;">
                <div style="background-color: #D0BFB4; padding: 20px; text-align: center;">
                    <h1 style="color: #000000; font-family: 'Merriweather', serif; margin: 0; font-size: 28px;">Welcome to the HOT Network!</h1>
                </div>
                <div style="padding: 30px;">
                    <p style="font-size: 16px;">Thank you for subscribing to our newsletter with the email address:</p>
                    <p style="font-size: 18px; font-weight: bold; color: #000; text-align: center; background-color: #f1f1f1; padding: 10px; border-radius: 4px;">${e}</p>
                    <p style="font-size: 16px;">You'll be the first to know about our latest updates, platform features, and exclusive community events.</p>
                    <p style="font-size: 16px;">Stay tuned!</p>
                    <br />
                    <p style="font-size: 16px;">Best,</p>
                    <p style="font-size: 16px;"><strong>The HOT Network Team</strong></p>
                </div>
                <div style="background-color: #e2e8f0; padding: 20px; text-align: center; font-size: 12px; color: #718096;">
                    &copy; ${new Date().getFullYear()} HOT Network. All Rights Reserved.
                </div>
            </div>
        </div>
    `;async function p(e){o.info("[MailService]",`Preparing to send confirmation email to ${e}.`),await new Promise(r=>setTimeout(r,500));const s=m(e);console.groupCollapsed(`--- SIMULATED EMAIL to ${e} ---`),console.log(`To: ${e}`),console.log("Subject: Welcome to the HOT Network!"),console.log("Body:",s),console.groupEnd(),o.info("[MailService]",`Successfully "sent" confirmation email to ${e}.`)}const b=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,g=["mailinator.com","temp-mail.org","10minutemail.com"];async function x(e){o.info("[API]","Received newsletter subscription request.",e);const{email:s}=e,r=s.split("@")[1];if(!s||!b.test(s))return o.warn("[API]","Invalid email provided."),{success:!1,message:"Please enter a valid email address."};if(g.includes(r))return o.warn("[API]","Disposable email address detected."),{success:!1,message:"Disposable email addresses are not allowed."};try{return s.includes("subscribed")?{success:!1,message:"This email address is already subscribed."}:(await p(s),o.info("[API]",`Successfully subscribed ${s}.`),{success:!0,message:"Thank you for subscribing! Please check your email for confirmation."})}catch(t){return o.error("[API]","An unexpected error occurred during subscription.",t),{success:!1,message:"An unexpected error occurred. Please try again later."}}}function y(){const[e,s]=l.useState(""),[r,t]=l.useState("idle"),[n,a]=l.useState(""),{addToast:d}=f(),u=l.useCallback(async()=>{t("loading"),a("");const i=await x({email:e});i.success?(t("success"),d(i.message,"success"),s("")):(t("error"),d(i.message,"error")),a(i.message)},[e,d]);return{email:e,setEmail:s,subscribe:u,status:r,message:n}}const h=()=>{const{email:e,setEmail:s,subscribe:r,status:t}=y(),n=a=>{a.preventDefault(),t!=="loading"&&r()};return c.jsxs("form",{onSubmit:n,className:"flex flex-col sm:flex-row items-center justify-center gap-3 w-full max-w-lg mx-auto",children:[c.jsx("input",{type:"email",value:e,onChange:a=>s(a.target.value),placeholder:"Enter your email address","aria-label":"Email address",required:!0,className:"w-full sm:flex-grow px-5 py-3.5 text-base text-gray-900 dark:text-white bg-white/80 dark:bg-brand-dark/80 border-2 border-brand-dark/20 dark:border-brand-light/20 rounded-lg focus:ring-brand-accent focus:border-brand-accent transition-all"}),c.jsx("button",{type:"submit",disabled:t==="loading",className:"w-full sm:w-auto px-8 py-3.5 text-base font-semibold text-white bg-brand-dark dark:bg-brand-light dark:text-brand-dark rounded-lg shadow-md hover:-translate-y-px transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:t==="loading"?c.jsx("i",{className:"fas fa-spinner fa-spin"}):"Subscribe"})]})};export{h as default};
